<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Leaderboard</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.js"></script>
    <script src="app.js"></script>
  </head>
  <body ng-app="leaderboard" ng-controller="main">
    <h1>Ping Pong Leaderboard</h1>
    <nav>
      <a href='/login'>Login</a> |
      <a href='/logout'>Logout</a>
    </nav>
    <form ng-submit="addPlayer()" method="post">
      Add New Player<input type="text" ng-model="match.newPlayer" required>
      <!-- Loser<input type="text" ng-model="match.loser"><br> -->
      <button type="submit" class="btn">Submit</button>
    </form>
    <table>
      <tr>
        <th>Ranking</th>
        <th>Name</th>
        <th>Wins</th>
      </tr>
      <tr ng-repeat="ranking in rankings">
        <td>{{$index + 1}}</td>
        <td>{{ranking.playerName}}</td>
        <td>{{ranking.wins}}</td>
        <td><button type="button" ng-click="addWin(ranking)">Win</button></td>
      </tr>
    </table>
    <table>
      <tr>
        <th>Time</th>
        <th>Message</th>
      </tr>
      <tr ng-repeat="message in messages">
        <td>{{message.createdAt | date:'yyyy-MM-dd HH:mm:ss a'}}</td>
        <td>{{message.message}}</td>
      </tr>
      </tr>
    </table>
  </body>
</html>